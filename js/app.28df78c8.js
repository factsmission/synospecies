(function(e){function t(t){for(var n,r,o=t[0],c=t[1],l=t[2],u=0,d=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);p&&p(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,r=1;r<a.length;r++){var o=a[r];0!==s[o]&&(n=!1)}n&&(i.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},r={app:0},s={app:0},i=[];function o(e){return c.p+"js/"+({about:"about"}[e]||e)+"."+{about:"e7155efc"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a={about:1};r[e]?t.push(r[e]):0!==r[e]&&a[e]&&t.push(r[e]=new Promise((function(t,a){for(var n="css/"+({about:"about"}[e]||e)+"."+{about:"f4d5cae0"}[e]+".css",s=c.p+n,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var l=i[o],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===n||u===s))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){l=d[o],u=l.getAttribute("data-href");if(u===n||u===s)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var n=t&&t.target&&t.target.src||s,i=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete r[e],p.parentNode.removeChild(p),a(i)},p.href=s;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){r[e]=0})));var n=s[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,a){n=s[e]=[t,a]}));t.push(n[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(p);var a=s[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",d.name="ChunkLoadError",d.type=n,d.request=r,a[1](d)}s[e]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var p=u;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"0dea":function(e,t,a){"use strict";var n=a("3877"),r=a.n(n);r.a},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},"1f43":function(e,t,a){},2:function(e,t){},3:function(e,t){},3877:function(e,t,a){},"3f57":function(e,t,a){},4:function(e,t){},5:function(e,t){},"5c0b":function(e,t,a){"use strict";var n=a("9c0c"),r=a.n(n);r.a},6:function(e,t){},6236:function(e,t,a){"use strict";var n=a("1f43"),r=a.n(n);r.a},"6f5f":function(e,t,a){e.exports=a.p+"img/FactsMissionTEO.167b9ed1.png"},7:function(e,t){},8:function(e,t){},9:function(e,t){},"9c0c":function(e,t,a){},bc0d:function(e,t,a){"use strict";var n=a("ddcb"),r=a.n(n);r.a},bdc4:function(e,t,a){"use strict";var n=a("f928"),r=a.n(n);r.a},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=(a("0fae"),a("5c96")),s=a.n(r),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[e._m(0),a("nav",{staticClass:"plazi-nav",attrs:{id:"nav"}},[a("div",{staticClass:"container"},[a("router-link",{attrs:{to:"/"}},[e._v("Home")]),a("router-link",{attrs:{to:"/advanced"}},[e._v("Advanced")]),a("router-link",{attrs:{to:"/about"}},[e._v("About")]),a("router-link",{attrs:{to:"/settings"}},[e._v("Settings")])],1)]),a("main",{staticClass:"container"},[a("router-view")],1),e._m(1)])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"plazi-header"},[n("div",{staticClass:"container"},[n("a",{attrs:{href:"http://plazi.org/"}},[n("img",{attrs:{src:a("cf05"),alt:"Plazi - take care of freedom",width:"200",height:"50"}})]),n("a",{attrs:{href:"https://factsmission.com"}},[n("img",{attrs:{src:a("6f5f"),alt:"FactsMission",height:"20"}})])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"plazi-footer"},[a("div",{staticClass:"container"},[e._v(" Synospecies is created and maintained by "),a("a",{attrs:{href:"https://factsmission.com"}},[e._v("FactsMission")]),e._v(" and uses the taxonomic treatment data provided by "),a("a",{attrs:{href:"http://plazi.org/"}},[e._v("Plazi")]),e._v(". ")]),a("div",{staticClass:"container"},[a("a",{attrs:{href:"https://github.com/factsmission/synospecies"}},[e._v(" View the code on Github ")])])])}],c=a("d4ec"),l=a("262e"),u=a("2caf"),d=a("9ab4"),p=a("60a3"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("SynoSpecies")]),a("form",{attrs:{id:"search-form"}},[a("span",[e._v("Input Genus and species here:")]),a("input",{attrs:{type:"text",id:"combinedfield",placeholder:"Sadayoshia acroporae"}}),a("button",{attrs:{id:"lookup"},on:{click:function(t){return t.preventDefault(),e.onClick(t)}}},[e._v("Look up")])]),a("hr"),e._v(" "+e._s(e.message)+" "),e.taxa.length>0?a("timeline",{attrs:{taxa:e.taxa,years:e.years}}):e._e(),a("hr"),a("taxon-reports",{ref:"taxonreports",attrs:{taxa:e.taxa,taxamanager:e.taxamanager}}),a("hr"),a("image-splash",{attrs:{taxa:e.taxa,taxamanager:e.taxamanager}}),a("hr"),a("div",{staticClass:"section",attrs:{id:"vernacular-area"}}),a("div",{staticClass:"section",attrs:{id:"wikidata-area"}})],1)},v=[],h=(a("99af"),a("cb29"),a("c740"),a("4160"),a("c975"),a("d81d"),a("d3b7"),a("ac1f"),a("25f0"),a("3ca3"),a("5319"),a("841c"),a("159b"),a("ddb0"),a("2b3d"),a("bee2")),g=(a("2d26"),a("96cf"),a("91b7")),m=a.n(g),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.taxa&&e.years?a("div",{staticClass:"card",attrs:{"aria-hidden":"true"}},[a("div",{staticClass:"timeline"},[a("div",{staticClass:"labels"},[a("button",{staticClass:"label",on:{click:function(t){return t.preventDefault(),e.fullscreen()}}},[e.isFullscreen?a("svg",{attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{fill:"currentcolor",d:"M19.5,3.09L15,7.59V4H13V11H20V9H16.41L20.91,4.5L19.5,3.09M4,13V15H7.59L3.09,19.5L4.5,20.91L9,16.41V20H11V13H4Z"}})]):a("svg",{attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{fill:"currentcolor",d:"M10,21V19H6.41L10.91,14.5L9.5,13.09L5,17.59V14H3V21H10M14.5,10.91L19,6.41V10H21V3H14V5H17.59L13.09,9.5L14.5,10.91Z"}})])]),e._l(e.taxa,(function(t){return a("div",{key:t.url,staticClass:"label"},[e._v(" "+e._s(e.getFormattedName(t.url))+" "),t.loading?a("spinner"):e._e()],1)}))],2),a("div",{staticClass:"sep"}),a("div",{staticClass:"scroll-x"},e._l(e.years,(function(t){return a("div",{class:"sep"===t?"sep":"year"},["sep"!==t?a("div",{staticClass:"label center"},[e._v(" "+e._s(-1===t.year?"Year Unknown":t.year)+" ")]):e._e(),"sep"!==t?a("div",{staticClass:"treatments"},e._l(t.treatments,(function(t){return a("a",{key:t.url,staticClass:"treatment",attrs:{href:t.url,title:t.creators}},e._l(t.data,(function(t){return a("div",{staticClass:"label"},["def"===t?a("svg",{staticClass:"green",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{fill:"currentcolor",d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}})]):"ass"===t?a("svg",{staticClass:"green",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{fill:"currentcolor",d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"}})]):"aug"===t?a("svg",{staticClass:"blue",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{fill:"currentcolor",d:"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}})]):"dpr"===t?a("svg",{staticClass:"red",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{fill:"currentcolor",d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"}})]):e._e()])})),0)})),0):e._e()])})),0)]),a("div",{staticClass:"label"},[a("svg",{staticClass:"green",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{fill:"currentcolor",d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}})]),e._v(" Defining treatment ")]),a("div",{staticClass:"label"},[a("svg",{staticClass:"blue",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{fill:"currentcolor",d:"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}})]),e._v(" Augmenting treatment "),a("br")]),a("div",{staticClass:"label"},[a("svg",{staticClass:"red",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{fill:"currentcolor",d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"}})]),e._v(" Deprecating treatment "),a("br")])]):e._e()},y=[],_=(a("baa5"),a("4d63"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"rot",attrs:{"aria-hidden":"true"}})}),x=[],w=(a("0dea"),a("2877")),O={},C=Object(w["a"])(O,_,x,!1,null,"255eae82",null),E=C.exports,j=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.apply(this,arguments),e.isFullscreen=!1,e.exampleYears=[{year:1884,treatments:[{data:["ass",!1,!1,!1,!1]},{data:[!1,"def",!1,!1,!1]}]},{year:1888,treatments:[{data:[!1,!1,!1,!1,"ass"]}]},"sep",{year:1969,treatments:[{data:[!1,!1,"ass",!1,!1]}]},{year:1988,treatments:[{data:[!1,!1,!1,"ass",!1]}]},"sep",{year:2010,treatments:[{data:["aug","dpr","dpr","dpr","dpr"],url:"https://example.org/"},{data:["aug","dpr",!1,!1,!1],url:"https://example.org/"}]},{year:2012,treatments:[{data:[!1,!1,"aug",!1,!1]}]}],e}return Object(h["a"])(a,[{key:"getFormattedName",value:function(e){var t=e.substring(e.lastIndexOf("/")+1),a=t.lastIndexOf("_");return t.substring(0,a).replace(new RegExp("_","g")," ")+", "+t.substring(a+1)}},{key:"fullscreen",value:function(){this.isFullscreen?(document.body.classList.remove("fullscreen-on"),this.$el.classList.remove("fullscreen"),this.isFullscreen=!1,document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()):(document.body.classList.add("fullscreen-on"),this.$el.classList.add("fullscreen"),this.isFullscreen=!0,this.$el.requestFullscreen?this.$el.requestFullscreen():this.$el.mozRequestFullScreen?this.$el.mozRequestFullScreen():this.$el.webkitRequestFullscreen?this.$el.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):this.$el.msRequestFullscreen&&this.$el.msRequestFullscreen())}}]),a}(p["c"]);Object(d["a"])([Object(p["b"])()],j.prototype,"taxa",void 0),Object(d["a"])([Object(p["b"])()],j.prototype,"years",void 0),j=Object(d["a"])([Object(p["a"])({components:{Spinner:E}})],j);var T=j,I=T,L=(a("bdc4"),Object(w["a"])(I,b,y,!1,null,"1829a15e",null)),k=L.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.images.length<=2?"twocol card":3===e.images.length?"threecol card":"card"},e._l(e.images,(function(t){return a("figure",{key:t.url},[a("img",{attrs:{src:t.url,alt:t.description||""}}),a("figcaption",[e._v(" "+e._s(t.description||"")+" ")])])})),0)},A=[],P=(a("4de4"),function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.apply(this,arguments),e.images=[],e}return Object(h["a"])(a,[{key:"splash",value:function(){var e=this;this.images=[],this.taxa.forEach((function(t){e.taxamanager.getImages(t.value).then((function(t){e.images=e.images.concat(t),e.images=e.images.filter((function(t,a){return e.images.findIndex((function(e){return e.url===t.url}))===a}))}))}))}}]),a}(p["c"]));Object(d["a"])([Object(p["b"])()],P.prototype,"taxa",void 0),Object(d["a"])([Object(p["b"])()],P.prototype,"taxamanager",void 0),Object(d["a"])([Object(p["d"])("taxa")],P.prototype,"splash",null),P=Object(d["a"])([p["a"]],P);var F=P,H=F,R=(a("6236"),Object(w["a"])(H,S,A,!1,null,"48441758",null)),V=R.exports,M=a("6d5e"),N=a.n(M),q=a("a36f"),z=a.n(q),D=function(){function e(t){Object(c["a"])(this,e),this._element=t,this._taxonNames={},this._sparqlEndpoint=new m.a("https://query.wikidata.org/sparql"),this._query=function(e){return'\n            DESCRIBE ?item WHERE \n            {\n                ?item wdt:P225 "'.concat(e,'"\n            }')}}return Object(h["a"])(e,[{key:"addTaxon",value:function(e){var t=this;function a(e){return N.a.sym("http://www.wikidata.org/prop/direct/"+e)}function n(e){return N.a.sym("http://www.wikidata.org/entity/"+e)}function r(e){return N.a.sym("http://schema.org/"+e)}function s(e){var t='<div>Wikidata Resource: <a href="'+e.value+'">'+e.value+"</a>";return t+="<ul>",e.out(a("P225")).each((function(e){t+="<li>Taxon Name "+e.value+"</li>"})),e.in(r("about")).each((function(e){t+='<li>Is subject of: <a href="'+e.value+'">'+decodeURI(e.value)+"</a></li>"})),e.out(a("P846")).each((function(e){t+='<li>GBIF ID <a href="https://www.gbif.org/species/'+e.value+'">'+e.value+"</a></li>"})),t+="</ul>",t+="</div>",t}if(!this._taxonNames[e])return this._taxonNames[e]=!0,this._sparqlEndpoint.getSparqlRDF(this._query(e)).then((function(t){if(0===t.length)throw Error("Not in wikidata: "+e);var r=z()(n("Q16521"),t),s=r.in(a("P31"));return 0===s.nodes.length&&(r=z()(n("Q23038290"),t),s=r.in(a("P31"))),s})).then((function(e){t._element.innerHTML=t._element.innerHTML+s(e)}))}},{key:"reset",value:function(){this._element.innerHTML="",this._taxonNames={}}}]),e}(),B=function(){function e(t){Object(c["a"])(this,e),this._element=t,this._taxonUrls={},this._sparqlEndpoint=new m.a("https://vernacular.plazi.org/sparql"),this._query=function(e){return"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nprefix slang: <https://vocab.plazi.org/vernacular/>\n\nSELECT DISTINCT ?value (GROUP_CONCAT(DISTINCT(?af); separator='; ') as ?afs) WHERE {\n    GRAPH ?g {\n        ?no a slang:NameOccurrence .\n        ?no rdf:value ?value .\n        OPTIONAL { ?no slang:areaFine ?af . }\n        ?no slang:taxon <".concat(e,"> .\n    }\n}\nGROUP BY ?value")}}return Object(h["a"])(e,[{key:"addTaxonUrl",value:function(e){var t=this,a=function(e){if(e.length>0){for(var t='<table class="table"><thead><tr><th scope="col">Vernacular Name</th><th scope="col">Area</th></tr></thead><tbody>',a=0;a<e.length;a++)t+="<tr><td>".concat(e[a].value.value,"</td><td>").concat(e[a].afs.value,"</td></tr>");return t+="</tbody></table>",t}return!1};if(!this._taxonUrls[e])return this._taxonUrls[e]=!0,this._sparqlEndpoint.getSparqlResultSet(this._query(e)).then((function(e){t._element.innerHTML=a(e.results.bindings)||""}))}},{key:"addTaxon",value:function(e){return this.addTaxonUrl("http://taxon-concept.plazi.org/id/Plantae/"+e.replace(/\s/g,"_"))}},{key:"reset",value:function(){this._element.innerHTML="",this._taxonUrls={}}}]),e}(),$=(a("a4d3"),a("e01a"),function(){function e(t){Object(c["a"])(this,e),this._sparqlEndpoint=t}return Object(h["a"])(e,[{key:"getSynonymsWithTreatments",value:function(e){var t='PREFIX dc: <http://purl.org/dc/elements/1.1/>\nPREFIX treat: <http://plazi.org/vocab/treatment#>\nSELECT DISTINCT\n?tc\n?aug ?augd (group_concat(DISTINCT ?augc;separator="; ") as ?augcs)\n?def ?defd (group_concat(DISTINCT ?defc;separator="; ") as ?defcs)\n?dpr ?dprd (group_concat(DISTINCT ?dprc;separator="; ") as ?dprcs)\nWHERE {\n  <'.concat(e,"> ((^treat:deprecates/(treat:augmentsTaxonConcept|treat:definesTaxonConcept))|\n    ((^treat:augmentsTaxonConcept|^treat:definesTaxonConcept)/treat:deprecates))* ?tc .\n  OPTIONAL {\n    ?aug treat:augmentsTaxonConcept ?tc;\n         dc:creator ?augc.\n    OPTIONAL {\n      ?aug treat:publishedIn ?augp.\n      ?augp dc:date ?augd.\n    }\n  }\n  OPTIONAL {\n    ?def treat:definesTaxonConcept ?tc;\n         dc:creator ?defc.\n    OPTIONAL {\n      ?def treat:publishedIn ?defp.\n      ?defp dc:date ?defd.\n    }\n  }\n  OPTIONAL {\n    ?dpr treat:deprecates ?tc;\n          dc:creator ?dprc.\n    OPTIONAL {\n      ?dpr treat:publishedIn ?dprp.\n      ?dprp dc:date ?dprd.\n    }\n  }\n}\nGROUP BY ?tc ?aug ?augd ?def ?defd ?dpr ?dprd");return this._sparqlEndpoint.getSparqlResultSet(t).then((function(e){return e}))}},{key:"getImages",value:function(e){var t="PREFIX treat: <http://plazi.org/vocab/treatment#>\nPREFIX dwc: <http://rs.tdwg.org/dwc/terms/>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX fabio: <http://purl.org/spar/fabio/>\nPREFIX dc: <http://purl.org/dc/elements/1.1/>\nSELECT DISTINCT ?url ?description WHERE {   \n  ?treatment (treat:augmentsTaxonConcept|treat:definesTaxonConcept) <"+e+"> .\n  ?treatment <http://purl.org/spar/cito/cites> ?cites.\n  ?cites rdf:type fabio:Figure. \n  ?cites fabio:hasRepresentation ?url.\n  ?cites dc:description ?description.  \n} ";return this._sparqlEndpoint.getSparqlResultSet(t).then((function(e){return e.results.bindings.map((function(e){var t={};return t.url=e.url.value,t.description=e.description.value,t}))}))}},{key:"getTaxonConcepts",value:function(e,t){var a='PREFIX dwc: <http://rs.tdwg.org/dwc/terms/>\nPREFIX treat: <http://plazi.org/vocab/treatment#>\nSELECT DISTINCT ?tc WHERE {\n  ?tc dwc:genus "'.concat(e,'";\n      dwc:species "').concat(t,'";\n      a <http://filteredpush.org/ontologies/oa/dwcFP#TaxonConcept>.\n}');return this._sparqlEndpoint.getSparqlResultSet(a).then((function(e){return e}))}},{key:"getTaxonDetails",value:function(e){var t="PREFIX treat: <http://plazi.org/vocab/treatment#>\n    PREFIX dwc: <http://rs.tdwg.org/dwc/terms/>\n    PREFIX dc: <http://purl.org/dc/elements/1.1/>\n    SELECT DISTINCT * WHERE {\n      <".concat(e,"> dwc:rank ?rank;\n              dwc:phylum ?phylum;\n              dwc:kingdom ?kingdom;\n              dwc:class ?class;\n              dwc:family ?family;\n              dwc:order ?order;\n              dwc:genus ?genus.\n      OPTIONAL {\n        <").concat(e,"> dwc:species ?species;\n      }\n      OPTIONAL {\n        ?dprtreat treat:deprecates <").concat(e,">;\n                  (treat:augmentsTaxonConcept|treat:definesTaxonConcept) ?new.\n      }\n      OPTIONAL {\n        ?dprxtreat (treat:augmentsTaxonConcept|treat:definesTaxonConcept) <").concat(e,">;\n                   treat:deprecates ?old.\n      }\n    }");return this._sparqlEndpoint.getSparqlResultSet(t).then((function(e){return e}))}}]),e}()),X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._l(e.taxa,(function(t){return a("single-taxon-report",{key:t.value,attrs:{taxon:t,taxamanager:e.taxamanager}})})),1)},U=[],Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:"card"+(e.deprecates.length>0?" deprecates ":" ")+(e.taxon.dpr.length>0?"deprecated":"")},[a("hgroup",[a("h2",{staticClass:"card_header"},[e._v(e._s(e.getFormattedName(e.taxon.url)))]),e._l(e.preferedNameBy,(function(t){return a("h3",{key:t.url,staticClass:"card_header"},[e._v(" Preferred by "),a("a",{attrs:{href:t.url}},[e._v(" "+e._s(t.creators.join("; "))+" "+e._s(t.dates.join("/"))+" ")])])}))],2),a("div",{staticClass:"scroll-x"},[a("table",{staticClass:"nobold"},[e._m(0),a("tr",e._l(e.ranks,(function(t){return a("td",{key:t},[e._v(" "+e._s(t)+" ")])})),0),a("tr",[e.loading?a("td",{attrs:{colspan:"7"}},[a("spinner")],1):e._e()])])]),e.taxon.loading?a("p",[a("spinner"),e._v(" Loading Treatments ")],1):e._e(),e.taxon.loading?e._e():a("p",[e.taxon.def.length?a("svg",{staticClass:"green",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{fill:"currentcolor",d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}})]):a("svg",{staticClass:"green",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{fill:"currentcolor",d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"}})]),e._v(" "+e._s(e.taxon.def.length||e.taxon.loading?"Defining Treatments: ":"Defining treatment not yet on Plazi")+" "),e.taxon.def.length?a("ul",e._l(e.taxon.def,(function(t){return a("li",{key:t.url},[a("a",{attrs:{href:t.url}},[e._v(" "+e._s(t.creators)+" ("+e._s(t.year)+") "),a("code",[e._v(e._s(t.url.substring(t.url.indexOf("/id/")+4)))])]),e.deprecates.find((function(e){return e.url===t.url}))?a("ul",e._l(e.deprecates.filter((function(e){return e.url===t.url})),(function(t){return a("li",{key:t.old},[e._v(" Deprecates "+e._s(e.getFormattedName(t.old))+" ")])})),0):e._e()])})),0):e._e()]),e.taxon.aug.length?a("p",[a("svg",{staticClass:"blue",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{fill:"currentcolor",d:"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}})]),e._v(" Augmenting Treatments: "),a("ul",e._l(e.taxon.aug,(function(t){return a("li",{key:t.url},[a("a",{attrs:{href:t.url}},[e._v(" "+e._s(t.creators)+" ("+e._s(t.year)+") "),a("code",[e._v(e._s(t.url.substring(t.url.indexOf("/id/")+4)))])]),e.deprecates.find((function(e){return e.url===t.url}))?a("ul",e._l(e.deprecates.filter((function(e){return e.url===t.url})),(function(t){return a("li",{key:t.old},[e._v(" Deprecates "+e._s(e.getFormattedName(t.old))+" ")])})),0):e._e()])})),0)]):e._e(),e.taxon.dpr.length?a("p",[a("svg",{staticClass:"red",attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{fill:"currentcolor",d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"}})]),e._v(" Deprecating Treatments: "),a("ul",e._l(e.taxon.dpr,(function(t){return a("li",{key:t.url},[a("a",{attrs:{href:t.url}},[e._v(" "+e._s(t.creators)+" ("+e._s(t.year)+") "),a("code",[e._v(e._s(t.url.substring(t.url.indexOf("/id/")+4)))])]),e.deprecations.find((function(e){return e.url===t.url}))?a("ul",e._l(e.deprecations.filter((function(e){return e.url===t.url})),(function(t){return a("li",{key:t.new},[e._v(" Deprecated by "+e._s(e.getFormattedName(t.new))+" ")])})),0):e._e()])})),0)]):e._e()])},W=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("th",[e._v("Kingdom")]),a("th",[e._v("Phylum")]),a("th",[e._v("Class")]),a("th",[e._v("Order")]),a("th",[e._v("Family")]),a("th",[e._v("Genus")]),a("th",[e._v("Species")])])}],G=(a("fb6a"),a("1da1"));var Q=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.apply(this,arguments),e.treats=[],e.ranks=[],e.loading=!0,e.deprecations=[],e.deprecates=[],e.preferedNameBy=null,e}return Object(h["a"])(a,[{key:"getFormattedName",value:function(e){var t=e.substring(e.lastIndexOf("/")+1),a=t.lastIndexOf("_");return t.substring(0,a).replace(new RegExp("_","g")," ")+", "+t.substring(a+1)}},{key:"renderTaxon",value:function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.taxamanager.getTaxonDetails(this.taxon.url);case 2:t=e.sent,t.results.bindings.forEach((function(e){if(a.ranks=["kingdom","phylum","class","order","family","genus","species"].map((function(t){return e[t]?e[t].value:""})),e.dprtreat&&e.new){var t=a.deprecations.findIndex((function(t){return t.url===e.dprtreat.value&&t.new===e.new.value}));-1===t&&a.deprecations.push({url:e.dprtreat.value,new:e.new.value})}if(e.dprxtreat&&e.old){var n=a.deprecates.findIndex((function(t){return t.url===e.dprxtreat.value&&t.old===e.old.value}));-1===n&&a.deprecates.push({url:e.dprxtreat.value,old:e.old.value})}})),this.loading=!1,this.$emit("taxonRendered",this.taxon);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){this.renderTaxon()}}]),a}(p["c"]);Object(d["a"])([Object(p["b"])()],Q.prototype,"taxon",void 0),Object(d["a"])([Object(p["b"])()],Q.prototype,"taxamanager",void 0),Q=Object(d["a"])([Object(p["a"])({components:{Spinner:E}})],Q);var Y=Q,K=Y,J=(a("bc0d"),Object(w["a"])(K,Z,W,!1,null,"44df7e30",null)),ee=J.exports,te=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.apply(this,arguments),e.message="",e}return a}(p["c"]);Object(d["a"])([Object(p["b"])()],te.prototype,"taxa",void 0),Object(d["a"])([Object(p["b"])()],te.prototype,"taxamanager",void 0),te=Object(d["a"])([Object(p["a"])({components:{SingleTaxonReport:ee}})],te);var ae=te,ne=ae,re=Object(w["a"])(ne,X,U,!1,null,"c4fa5996",null),se=re.exports,ie=a("96b7"),oe=a("d70b"),ce=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.apply(this,arguments),e.current={genus:null,species:null},e.message="",e.taxa=[],e.years=[],e}return Object(h["a"])(a,[{key:"onClick",value:function(){var e=document.getElementById("combinedfield");e.value||(e.value="Sadayoshia acroporae"),this.taxomplete.lookup()}},{key:"relatedTaxonEncountered",value:function(e,t){}},{key:"beforeMount",value:function(){var e=new URLSearchParams(window.location.search);this.sparqlEndpoint=new m.a(e.get("endpoint")||oe["a"].endpoint()),this.taxamanager=new $(this.sparqlEndpoint)}},{key:"getData",value:function(){var e=this;this.taxamanager.getTaxonConcepts(this.current.genus,this.current.species).then((function(t){0===t.results.bindings.length?e.message="No treatment for "+e.current.genus+" "+e.current.species+" found on Plazi.":(window.location.hash=e.current.genus+"+"+e.current.species,e.taxa=t.results.bindings.map((function(e){return{url:e.tc.value,def:[],aug:[],dpr:[],loading:!0}})),e.taxa.forEach((function(t){e.taxamanager.getSynonymsWithTreatments(t.url).then(e.processSynonymsWithTreatments)})),e.message="")}))}},{key:"processSynonymsWithTreatments",value:function(e){var t=this;e.results.bindings.forEach((function(e){var a=t.taxa.findIndex((function(t){return t.url===e.tc.value}));if(-1===a&&(a=t.taxa.push({url:e.tc.value,def:[],aug:[],dpr:[],loading:!1})-1),e.def){e.defd&&e.defd.value||(e.defd={value:"-1",type:"literal"});var n=t.years.findIndex((function(t){return"sep"!==t&&t.year.toString()===e.defd.value}));if(-1===n){var r=[];r[a]="def",t.years.push({year:parseInt(e.defd.value,10),treatments:[{creators:e.defcs.value,url:e.def.value,data:r}]})}else{var s=t.years[n].treatments.findIndex((function(t){return t.url===e.def.value}));if(-1===s){var i=[];i[a]="def",t.years[n].treatments.push({creators:e.defcs.value,url:e.def.value,data:i})}else t.years[n].treatments[s].data[a]="def"}var o=t.taxa[a].def.findIndex((function(t){return t.url===e.def.value&&t.creators===e.defcs.value&&t.year===parseInt(e.defd.value,10)}));-1===o&&t.taxa[a].def.push({url:e.def.value,creators:e.defcs.value,year:parseInt(e.defd.value,10)})}if(e.aug){e.augd&&e.augd.value||(e.augd={value:"-1",type:"literal"});var c=t.years.findIndex((function(t){return"sep"!==t&&t.year.toString()===e.augd.value}));if(-1===c){var l=[];l[a]="aug",t.years.push({year:parseInt(e.augd.value,10),treatments:[{creators:e.augcs.value,url:e.aug.value,data:l}]})}else{var u=t.years[c].treatments.findIndex((function(t){return t.url===e.aug.value}));if(-1===u){var d=[];d[a]="aug",t.years[c].treatments.push({creators:e.augcs.value,url:e.aug.value,data:d})}else t.years[c].treatments[u].data[a]="aug"}var p=t.taxa[a].aug.findIndex((function(t){return t.url===e.aug.value&&t.creators===e.augcs.value&&t.year===parseInt(e.augd.value,10)}));-1===p&&t.taxa[a].aug.push({url:e.aug.value,creators:e.augcs.value,year:parseInt(e.augd.value,10)})}if(e.dpr){e.dprd&&e.dprd.value||(e.dprd={value:"-1",type:"literal"});var f=t.years.findIndex((function(t){return"sep"!==t&&t.year.toString()===e.dprd.value}));if(-1===f){var v=[];v[a]="dpr",t.years.push({year:parseInt(e.dprd.value,10),treatments:[{creators:e.dprcs.value,url:e.dpr.value,data:v}]})}else{var h=t.years[f].treatments.findIndex((function(t){return t.url===e.dpr.value}));if(-1===h){var g=[];g[a]="dpr",t.years[f].treatments.push({creators:e.dprcs.value,url:e.dpr.value,data:g})}else t.years[f].treatments[h].data[a]="dpr"}var m=t.taxa[a].dpr.findIndex((function(t){return t.url===e.dpr.value&&t.creators===e.dprcs.value&&t.year===parseInt(e.dprd.value,10)}));-1===m&&t.taxa[a].dpr.push({url:e.dpr.value,creators:e.dprcs.value,year:parseInt(e.dprd.value,10)})}t.taxa[a].loading=!1})),this.years.sort((function(e,t){return e.year<t.year?-1:e.year>t.year?1:0})),this.years.forEach((function(e){"sep"!==e&&e.treatments.forEach((function(e){e.data=e.data.concat(Array(t.taxa.length-e.data.length).fill(!1))}))}))}},{key:"mounted",value:function(){var e=this;this.wikidataViewer=new D(document.getElementById("wikidata-area")),this.vernacularViewer=new B(document.getElementById("vernacular-area"));var t=document.getElementById("combinedfield");this.taxomplete=new ie["a"](t,this.sparqlEndpoint);var a=function(t){e.taxa=[],e.years=[],e.wikidataViewer.reset(),e.vernacularViewer.reset(),e.current.genus=t.substring(0,t.indexOf(" ")),e.current.species=t.substr(t.indexOf(" ")+1),e.wikidataViewer.addTaxon(e.current.genus+" "+e.current.species),e.vernacularViewer.addTaxon(e.current.genus+" "+e.current.species),e.getData()};this.taxomplete.action=a,!t.value&&window.location.hash&&(t.value=window.location.hash.substring(1).replace("+"," "),this.taxomplete.lookup())}}]),a}(p["c"]);ce=Object(d["a"])([Object(p["a"])({components:{TaxonReports:se,Timeline:k,ImageSplash:V}})],ce);var le=ce,ue=le,de=Object(w["a"])(ue,f,v,!1,null,"3513240c",null),pe=de.exports,fe=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(){return Object(c["a"])(this,a),t.apply(this,arguments)}return a}(p["c"]);fe=Object(d["a"])([Object(p["a"])({components:{Classic:pe}})],fe);var ve,he,ge,me,be,ye,_e,xe=fe,we=xe,Oe=(a("5c0b"),Object(w["a"])(we,i,o,!1,null,null,null)),Ce=Oe.exports,Ee=a("8c4f"),je=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Te=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("About")]),a("div",{staticClass:"section"},[a("p",[e._v(" Synospecies is a tool developed by FactsMission AG to leverage the RDF data provided by Plazi. The RDF data of all treatments is stored in an "),a("a",{attrs:{href:"https://allegrograph.com/"}},[e._v("AllegroGraph")]),e._v(" triple store allowing "),a("a",{attrs:{href:"https://www.w3.org/TR/sparql11-overview/"}},[e._v("SPARQL")]),e._v(" queries over the data. Synospecies allows manually writing and submitting such queries in the advanced mode and send such queries in the background when using the easier interface. ")]),a("p",[e._v(" Synospecies is an Open Source application running purely in the browser, the source code is available on "),a("a",{attrs:{href:"https://github.com/factsmission/synospecies/"}},[e._v("GitHub")]),e._v(". ")])]),a("div",{staticClass:"section"},[a("h2",[a("a",{attrs:{href:"http://plazi.org/"}},[e._v("Plazi")])]),a("p",[e._v("Plazi is an association supporting and promoting the development of persistent and openly accessible digital taxonomic literature. To this end Plazi will:")]),a("ul",[a("li",[e._v("Maintain a digital taxonomic literature repository to enable archiving of taxonomic treatments.")]),a("li",[e._v("Enhance submitted taxonomic treatments by creating TaxonX and Taxpub XML versions.")]),a("li",[e._v("Participate in the development of new models for publishing taxonomic treatments in order to maximize interoperability with other relevant cyberinfrastructure components (e.g., name servers, biodiversity resources, etc...)")]),a("li",[e._v("Advocate and educate about the vital importance of maintaining free and open access to scientific discourse and data")])])]),a("div",{staticClass:"section"},[a("h2",[a("a",{attrs:{href:"https://factsmission.com/"}},[e._v("FactsMission")])]),a("p",[e._v("FactsMission offers consulting and development services to create, process, store, publish, and consume linked data.")]),a("p",[e._v("FactsMission helps you provide data in such a way that it can be easily used as the foundation of different applications as well as linked to as an authoritative source.")]),a("p",[e._v("FactsMission helps you grow communities around your data to maximize its impact and increase your organizationâ€™s influence.")])])])}],Ie=(ve=Object(p["a"])({}),ve(he=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(){return Object(c["a"])(this,a),t.apply(this,arguments)}return a}(p["c"]))||he),Le=Ie,ke=Object(w["a"])(Le,je,Te,!1,null,null,null),Se=ke.exports,Ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Settings")]),a("div",{staticClass:"card"},[a("h2",{staticClass:"card_header"},[e._v(" Set SPARQL endpoint ")]),e._v(" Sparql endpoint serving the Plazi Treatment Data: "),a("el-select",{attrs:{id:"ep-select",filterable:"","allow-create":"",placeholder:"Define SPARQL Enpoint for Plazi treatments"},model:{value:e.endpoint,callback:function(t){e.endpoint=t},expression:"endpoint"}},e._l(e.allEndpoints,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1)])},Pe=[],Fe=(a("e439"),a("257e")),He=a("ade3"),Re=a("63ae"),Ve=(ge=Object(p["a"])({components:{"el-select":r["Select"],"el-option":r["Option"]}}),me=Object(p["d"])("endpoint"),ge((_e=function(e){Object(l["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;Object(c["a"])(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r)),Object(He["a"])(Object(Fe["a"])(e),"allEndpoints",["https://trifid-lindas.test.cluster.ldbar.ch/query","https://treatment.ld.plazi.org/sparql"]),Object(He["a"])(Object(Fe["a"])(e),"endpoint",oe["a"].endpoint()),e}return Object(h["a"])(a,[{key:"onEndpointChanged",value:function(e){localStorage.setItem("plazi-treatments-endpoint",e)}}]),a}(p["c"]),ye=_e,Object(Re["a"])(ye.prototype,"onEndpointChanged",[me],Object.getOwnPropertyDescriptor(ye.prototype,"onEndpointChanged"),ye.prototype),be=ye))||be),Me=Ve,Ne=(a("e1c8"),Object(w["a"])(Me,Ae,Pe,!1,null,null,null)),qe=Ne.exports;n["default"].use(Ee["a"]);var ze=[{path:"/",name:"classic",component:pe},{path:"/about",name:"about",component:Se},{path:"/settings",name:"settings",component:qe},{path:"/advanced",name:"advanced",component:function(){return a.e("about").then(a.bind(null,"fbe6"))}}],De=new Ee["a"]({mode:"history",routes:ze}),Be=De;n["default"].config.productionTip=!1,n["default"].use(s.a),new n["default"]({router:Be,render:function(e){return e(Ce)}}).$mount("#app")},cf05:function(e,t,a){e.exports=a.p+"img/logo.ab5edf36.png"},d70b:function(e,t,a){"use strict";a.d(t,"b",(function(){return n}));var n=function(){var e=localStorage.getItem("plazi-treatments-endpoint");return e||"https://treatment.ld.plazi.org/sparql"};t["a"]={endpoint:n}},ddcb:function(e,t,a){},e1c8:function(e,t,a){"use strict";var n=a("3f57"),r=a.n(n);r.a},f928:function(e,t,a){}});
//# sourceMappingURL=app.28df78c8.js.map