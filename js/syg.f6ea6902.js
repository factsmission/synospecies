(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["syg"],{"13b0":function(e,t,n){"use strict";n("1829")},1829:function(e,t,n){},"61ae":function(e,t,n){"use strict";n("6c3e")},"6c3e":function(e,t,n){},"7cb0":function(e,t,n){},bbe0:function(e,t,n){},c9a2:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("SynoSpecies")]),n("div",{staticClass:"card form"},[e._m(0),n("div",{staticClass:"flex"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"input"}],attrs:{id:"combinedfield",type:"text",placeholder:"Sadayoshia acamar"},domProps:{value:e.input},on:{input:function(t){t.target.composing||(e.input=t.target.value)}}}),n("button",{staticClass:"go",on:{click:e.updateSG}},[e._v(" Go ")]),n("div",{staticClass:"dropdown",attrs:{"data-open":e.settingsOpen}},[n("button",{staticClass:"icon",attrs:{"aria-label":"Search Settings"},on:{click:function(t){e.settingsOpen=!e.settingsOpen}}},[n("svg",{attrs:{role:"presentation",viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"currentcolor",d:e.$icons.mdiCogOutline}})])]),n("div",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.ignoreRank,expression:"ignoreRank"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.ignoreRank)?e._i(e.ignoreRank,null)>-1:e.ignoreRank},on:{change:function(t){var n=e.ignoreRank,r=t.target,a=!!r.checked;if(Array.isArray(n)){var i=null,s=e._i(n,i);r.checked?s<0&&(e.ignoreRank=n.concat([i])):s>-1&&(e.ignoreRank=n.slice(0,s).concat(n.slice(s+1)))}else e.ignoreRank=a}}}),e._v("Include Subtaxa")])])])]),n("hr"),n("div",{staticClass:"flex"},[n("div",{staticStyle:{"line-height":"2.5rem","padding-left":".5rem"}},[e.loading?n("div",[e._v(" Loading "),n("spinner"),e._v(" ("+e._s(e.jsArray.length)+" result(s) so far) ")],1):e.time?n("div",[e._v(" "+e._s(e.jsArray.length)+" result(s), took "+e._s(e.time)+"s ")]):e._e()]),n("div",{staticClass:"dropdown",attrs:{"data-open":e.tunerOpen}},[n("button",{staticClass:"icon",attrs:{"aria-label":"Search Settings",disabled:!e.time&&!e.loading},on:{click:function(t){e.tunerOpen=!e.tunerOpen}}},[n("svg",{attrs:{role:"presentation",viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"currentcolor",d:e.$icons.mdiTune}})])]),n("div",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.openJ,expression:"openJ"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.openJ)?e._i(e.openJ,null)>-1:e.openJ},on:{change:function(t){var n=e.openJ,r=t.target,a=!!r.checked;if(Array.isArray(n)){var i=null,s=e._i(n,i);r.checked?s<0&&(e.openJ=n.concat([i])):s>-1&&(e.openJ=n.slice(0,s).concat(n.slice(s+1)))}else e.openJ=a}}}),e._v("Expand all Justifications")]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.openT,expression:"openT"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.openT)?e._i(e.openT,null)>-1:e.openT},on:{change:function(t){var n=e.openT,r=t.target,a=!!r.checked;if(Array.isArray(n)){var i=null,s=e._i(n,i);r.checked?s<0&&(e.openT=n.concat([i])):s>-1&&(e.openT=n.slice(0,s).concat(n.slice(s+1)))}else e.openT=a}}}),e._v("Expand all Treatments")])])])])]),e.jsArray.length>0?n("timeline",{attrs:{result:e.jsArray}}):e._e(),e._l(e.result,(function(t){return n("div",{key:t[0]},[n("span",{staticClass:"muted"},[e._v(e._s(e.kingdom(t[0])))]),e._v(" "+e._s(e.shorten(t[0]))+" "),e._l(t[1],(function(t){return n("div",{key:t.taxonConceptUri,class:t.treatments.dpr.length?"card deprecated":"card"},[n("h2",[n("a",{attrs:{href:t.taxonConceptUri}},[e._v(e._s(e.shorten(t.taxonConceptUri)))])]),n("details",{attrs:{open:e.openJ}},[n("summary",[e._v(" "+e._s(1===t.justifications.length?"Justification":"Justifications ("+t.justifications.length+")")+" ")]),n("justification-view",{attrs:{js:t}})],1),n("treatments-view",{attrs:{js:t,open:e.openT}})],1)}))],2)})),n("hr"),n("image-splash",{attrs:{taxamanager:e.taxamanager,taxa:e.jsArray.map((function(e){return{url:e.taxonConceptUri}}))}})],2)},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex"},[n("label",[e._v("Enter Taxon Name")])])}];n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var o=n("1da1"),u=n("d4ec"),l=n("bee2"),p=n("262e"),d=n("2caf");n("e01a"),n("d3b7"),n("b636"),n("d28b"),n("3ca3"),n("ddb0");function f(e){var t;if("undefined"!==typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}n("96cf"),n("4ec9"),n("ac1f"),n("466d"),n("5319"),n("820e"),n("fb6a"),n("b680");var v=n("9ab4"),h=n("1b40"),b=n("2ca9"),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ul",e._l(e.justifications,(function(t){return n("li",{key:t.toString()},e._l(t,(function(t){return n("span",{key:t.toString(),staticClass:"just",domProps:{innerHTML:e._s(t)}})})),0)})),0)])},m=[],x=(n("99af"),n("25f0"),n("d81d"),function(e){Object(p["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(u["a"])(this,n),e=t.apply(this,arguments),e.justifications=[],e}return Object(l["a"])(n,[{key:"predecessor",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,t.justifications.first();case 3:return e.t1=e.sent,e.abrupt("return",e.t0.prosaify.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"prosaify",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=[this.linkify(t.toString())],!t.precedingSynonym){e.next=7;break}return e.next=4,this.predecessor(t.precedingSynonym);case 4:e.t1=e.sent,e.next=8;break;case 7:e.t1=[];case 8:return e.t2=e.t1,e.abrupt("return",e.t0.concat.call(e.t0,e.t2));case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"prosaifyInitial",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.t0=[this.linkify(t.toString())],!t.precedingSynonym){e.next=7;break}return e.next=4,this.predecessor(t.precedingSynonym);case 4:e.t1=e.sent,e.next=8;break;case 7:e.t1=[];case 8:return e.t2=e.t1,e.abrupt("return",e.t0.concat.call(e.t0,e.t2));case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"linkify",value:function(e){var t=function(e){return e.replace(/http:\/\/(taxon-(name|concept)|treatment)\.plazi\.org\/id\/([^/]*\/)?/g,"").replace(/\/|_/g," ")};return e.replace(/(http:\/\/(taxon-(name|concept)|treatment)\.plazi\.org\/id\/[^ ]*)/g,(function(e,n){return'<a href="'.concat(n,'">').concat(t(n),"</a>")}))}},{key:"updateJustifications",value:function(){var e=this;Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.js.justifications.map((function(t){return e.prosaifyInitial(t)})));case 2:return t.abrupt("return",e.justifications=t.sent);case 3:case"end":return t.stop()}}),t)})))()}}]),n}(h["d"]));Object(v["a"])([Object(h["b"])()],x.prototype,"js",void 0),Object(v["a"])([Object(h["e"])("js.justifications")],x.prototype,"updateJustifications",null),x=Object(v["a"])([h["a"]],x);var y=x,k=y,j=(n("13b0"),n("ef0b"),n("2877")),w=Object(j["a"])(k,g,m,!1,null,"48e15a86",null),O=w.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("details",[n("summary",[e._v(" Treatments ("),e.js.loading?n("spinner"):e._e(),e._l(e.js.treatments.def.length,(function(e){return n("svg",{key:e+"def",staticClass:"green",attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"currentcolor",d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}})])})),e._l(e.js.treatments.aug.length,(function(e){return n("svg",{key:e+"aug",staticClass:"blue",attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"currentcolor",d:"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}})])})),e._l(e.js.treatments.dpr.length,(function(e){return n("svg",{key:e+"dpr",staticClass:"red",attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"currentcolor",d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"}})])})),e._v(") ")],2),!e.js.treatments.def.length&&!e.js.loading||e.js.treatments.def.length||e.js.treatments.aug.length?n("div",[e._v(" Augmenting Treatments: "),n("ul",{staticClass:"nobullet"},[e._l(e.js.treatments.def,(function(t){return n("li",{key:t.url},[n("svg",{staticClass:"green",attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"currentcolor",d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}})]),n("a",{attrs:{href:t.url}},[e._v(" "+e._s(t.creators)+" ("+e._s(t.date)+") "),n("code",[e._v(e._s(t.url.substring(t.url.indexOf("/id/")+4)))])])])})),e.js.treatments.def.length||e.js.loading?e._e():n("li",[n("svg",{staticClass:"green",attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"currentcolor",d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"}})]),e._v(" Defining treatment not yet on Plazi ")]),e._l(e.js.treatments.aug,(function(t){return n("li",{key:t.url},[n("svg",{staticClass:"blue",attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"currentcolor",d:"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}})]),n("a",{attrs:{href:t.url}},[e._v(" "+e._s(t.creators)+" ("+e._s(t.date)+") "),n("code",[e._v(e._s(t.url.substring(t.url.indexOf("/id/")+4)))])])])}))],2)]):e._e(),e.js.treatments.dpr.length?n("div",[e._v(" Deprecating Treatments: "),n("ul",{staticClass:"nobullet"},e._l(e.js.treatments.dpr,(function(t){return n("li",{key:t.url},[n("svg",{staticClass:"red",attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"currentcolor",d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"}})]),n("a",{attrs:{href:t.url}},[e._v(" "+e._s(t.creators)+" ("+e._s(t.date)+") "),n("code",[e._v(e._s(t.url.substring(t.url.indexOf("/id/")+4)))])])])})),0)]):e._e()])},A=[],C=n("2375"),S=function(e){Object(p["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(u["a"])(this,n),t.apply(this,arguments)}return n}(h["d"]);Object(v["a"])([Object(h["b"])()],S.prototype,"js",void 0),S=Object(v["a"])([Object(h["a"])({components:{Spinner:C["a"]}})],S);var R=S,L=R,T=(n("61ae"),Object(j["a"])(L,_,A,!1,null,"4cc06590",null)),H=T.exports,J=n("da9e"),P=n("d9df"),V=n("96b7"),M=n("55ab"),E=function(e){Object(p["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(u["a"])(this,n),e=t.apply(this,arguments),e.endpoint=new window.SparqlEndpoint(Object(b["b"])()),e.input="",e.ignoreRank=!1,e.jsArray=[],e.result=new Map,e.loading=!1,e.settingsOpen=!1,e.tunerOpen=!1,e.openJ=!1,e.openT=!1,e.time="",e.syg=new window.SynonymGroup(e.endpoint,e.input,e.ignoreRank),e.taxamanager=new M["a"](e.endpoint),e}return Object(l["a"])(n,[{key:"kingdom",value:function(e){return(e.match(/http:\/\/taxon-name\.plazi\.org\/id\/([^/]*)\//)||[])[1]}},{key:"shorten",value:function(e,t){var n=t?e.replace(/(http:\/\/(taxon-(name|concept)|treatment)\.plazi\.org\/id\/[^ ]*)/g,(function(e,t){return"[".concat(t,"]")})):e,r=~n.indexOf("]")?n.indexOf("]")+2:0;return n=n.substring(r),n.replace(/http:\/\/(taxon-(name|concept)|treatment)\.plazi\.org\/id\/[^/]*\//g,"").replace(/\/|_/g," ")}},{key:"updateSG",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,s,u,l,p=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.input||(this.input="Sadayoshia acamar"),this.jsArray=[],this.result=new Map,this.loading=!0,this.syg&&this.syg.abort(),this.syg=new window.SynonymGroup(this.endpoint,this.input,this.ignoreRank),t=performance.now(),n=[],r=!1,a=!1,e.prev=10,s=function(){var e=l.value,t=e.taxonConceptUri,r=e.taxonNameUri,a=e.justifications,i=e.treatments,s=[],u={def:[],aug:[],dpr:[]},d=c(c({},e),{},{justifications:s,treatments:u});p.jsArray.push(d);var v=p.result.get(r);v?v.push(d):p.result.set(r,[d]);var h=[];h.push(Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,c,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=!1,n=!1,e.prev=2,i=f(a);case 4:return e.next=6,i.next();case 6:if(!(t=!(c=e.sent).done)){e.next=12;break}o=c.value,s.push(o);case 9:t=!1,e.next=4;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](2),n=!0,r=e.t0;case 18:if(e.prev=18,e.prev=19,!t||null==i.return){e.next=23;break}return e.next=23,i.return();case 23:if(e.prev=23,!n){e.next=26;break}throw r;case 26:return e.finish(23);case 27:return e.finish(18);case 28:case"end":return e.stop()}}),e,null,[[2,14,18,28],[19,,23,27]])})))()),h.push(Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=!1,n=!1,e.prev=2,a=f(i.def);case 4:return e.next=6,a.next();case 6:if(!(t=!(s=e.sent).done)){e.next=12;break}c=s.value,u.def.push(c);case 9:t=!1,e.next=4;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](2),n=!0,r=e.t0;case 18:if(e.prev=18,e.prev=19,!t||null==a.return){e.next=23;break}return e.next=23,a.return();case 23:if(e.prev=23,!n){e.next=26;break}throw r;case 26:return e.finish(23);case 27:return e.finish(18);case 28:case"end":return e.stop()}}),e,null,[[2,14,18,28],[19,,23,27]])})))()),h.push(Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=!1,n=!1,e.prev=2,a=f(i.aug);case 4:return e.next=6,a.next();case 6:if(!(t=!(s=e.sent).done)){e.next=12;break}c=s.value,u.aug.push(c);case 9:t=!1,e.next=4;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](2),n=!0,r=e.t0;case 18:if(e.prev=18,e.prev=19,!t||null==a.return){e.next=23;break}return e.next=23,a.return();case 23:if(e.prev=23,!n){e.next=26;break}throw r;case 26:return e.finish(23);case 27:return e.finish(18);case 28:case"end":return e.stop()}}),e,null,[[2,14,18,28],[19,,23,27]])})))()),h.push(Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=!1,n=!1,e.prev=2,a=f(i.dpr);case 4:return e.next=6,a.next();case 6:if(!(t=!(s=e.sent).done)){e.next=12;break}c=s.value,u.dpr.push(c);case 9:t=!1,e.next=4;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](2),n=!0,r=e.t0;case 18:if(e.prev=18,e.prev=19,!t||null==a.return){e.next=23;break}return e.next=23,a.return();case 23:if(e.prev=23,!n){e.next=26;break}throw r;case 26:return e.finish(23);case 27:return e.finish(18);case 28:case"end":return e.stop()}}),e,null,[[2,14,18,28],[19,,23,27]])})))()),n.push(Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled(h);case 2:return console.log("%c".concat(t.slice(t.lastIndexOf("/"))," done"),"color: gold;"),d.loading=!1,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))())},u=f(this.syg);case 13:return e.next=15,u.next();case 15:if(!(r=!(l=e.sent).done)){e.next=20;break}s();case 17:r=!1,e.next=13;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e["catch"](10),a=!0,i=e.t0;case 26:if(e.prev=26,e.prev=27,!r||null==u.return){e.next=31;break}return e.next=31,u.return();case 31:if(e.prev=31,!a){e.next=34;break}throw i;case 34:return e.finish(31);case 35:return e.finish(26);case 36:return console.log("awaiting now"),e.next=39,Promise.allSettled(n);case 39:console.log("%call settled","color: green; font-weight: bold;"),this.loading=!1,this.time=((performance.now()-t)/1e3).toFixed(2);case 42:case"end":return e.stop()}}),e,this,[[10,22,26,36],[27,,31,35]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){var e,t=this,n=document.getElementById("combinedfield");(this.taxomplete=new V["a"](n,this.endpoint),this.taxomplete.action=function(e){t.input=e,t.updateSG()},this.s)&&(this.input=null!==(e=this.s)&&void 0!==e?e:"",this.updateSG())}}]),n}(h["d"]);Object(v["a"])([Object(h["b"])()],E.prototype,"s",void 0),Object(v["a"])([Object(h["e"])("s")],E.prototype,"mounted",null),E=Object(v["a"])([Object(h["a"])({components:{JustificationView:O,TreatmentsView:H,Timeline:J["a"],ImageSplash:P["a"],Spinner:C["a"]}})],E);var B=E,I=B,G=(n("d599"),n("dfe7"),Object(j["a"])(I,r,a,!1,null,"6da0fca8",null));t["default"]=G.exports},cb81:function(e,t,n){},d599:function(e,t,n){"use strict";n("bbe0")},dfe7:function(e,t,n){"use strict";n("7cb0")},ef0b:function(e,t,n){"use strict";n("cb81")}}]);
//# sourceMappingURL=syg.f6ea6902.js.map