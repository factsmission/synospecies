(function(t){function e(e){for(var a,r,c=e[0],o=e[1],u=e[2],l=0,d=[];l<c.length;l++)r=c[l],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);p&&p(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,r=1;r<n.length;r++){var c=n[r];0!==s[c]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},r={app:0},s={app:0},i=[];function c(t){return o.p+"js/"+({about:"about"}[t]||t)+"."+{about:"ba8de06f"}[t]+".js"}function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],n={about:1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var a="css/"+({about:"about"}[t]||t)+"."+{about:"518a8b0d"}[t]+".css",s=o.p+a,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=i[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===s))return e()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===a||l===s)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var a=e&&e.target&&e.target.src||s,i=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete r[t],p.parentNode.removeChild(p),n(i)},p.href=s;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){r[t]=0})));var a=s[t];if(0!==a)if(a)e.push(a[2]);else{var i=new Promise((function(e,n){a=s[t]=[e,n]}));e.push(a[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=c(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(p);var n=s[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}s[t]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var p=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},1:function(t,e){},10:function(t,e){},11:function(t,e){},12:function(t,e){},"1f43":function(t,e,n){},2:function(t,e){},3:function(t,e){},4:function(t,e){},5:function(t,e){},"5c0b":function(t,e,n){"use strict";var a=n("9c0c"),r=n.n(a);r.a},6:function(t,e){},6236:function(t,e,n){"use strict";var a=n("1f43"),r=n.n(a);r.a},"6f5f":function(t,e,n){t.exports=n.p+"img/FactsMissionTEO.167b9ed1.png"},7:function(t,e){},8:function(t,e){},9:function(t,e){},"9c0c":function(t,e,n){},b7e9:function(t,e,n){},c3d8:function(t,e,n){"use strict";var a=n("d0fb"),r=n.n(a);r.a},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t._m(0),n("nav",{staticClass:"plazi-nav",attrs:{id:"nav"}},[n("div",{staticClass:"container"},[n("router-link",{attrs:{to:"/"}},[t._v("Home")]),n("router-link",{attrs:{to:"/advanced"}},[t._v("Advanced")]),n("router-link",{attrs:{to:"/about"}},[t._v("About")])],1)]),n("main",{staticClass:"container"},[n("router-view")],1),t._m(1)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"plazi-header"},[a("div",{staticClass:"container"},[a("a",{attrs:{href:"http://plazi.org/"}},[a("img",{attrs:{src:n("cf05"),alt:"Plazi - take care of freedom",width:"200",height:"50"}})]),a("a",{attrs:{href:"https://factsmission.com"}},[a("img",{attrs:{src:n("6f5f"),alt:"FactsMission",height:"20"}})])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"plazi-footer"},[n("div",{staticClass:"container"},[t._v(" Synospecies is created and maintained by "),n("a",{attrs:{href:"https://factsmission.com"}},[t._v("FactsMission")]),t._v(" and uses the taxonomic treatment data provided by "),n("a",{attrs:{href:"http://plazi.org/"}},[t._v("Plazi")]),t._v(". ")]),n("div",{staticClass:"container"},[n("a",{attrs:{href:"https://github.com/factsmission/synospecies"}},[t._v(" View the code on Github ")])])])}],i=n("d4ec"),c=n("262e"),o=n("2caf"),u=n("9ab4"),l=n("60a3"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("SynoSpecies")]),n("form",{attrs:{id:"search-form"}},[n("span",[t._v("Input Genus and species here:")]),n("input",{attrs:{type:"text",id:"combinedfield",placeholder:"Sadayoshia acroporae"}}),n("button",{attrs:{id:"lookup"},on:{click:function(e){return e.preventDefault(),t.onClick(e)}}},[t._v("Look up")])]),n("hr"),t._v(" "+t._s(t.message)+" "),t.names.length>0?n("timeline",{attrs:{names:t.names,years:t.years}}):t._e(),n("hr"),n("taxon-reports",{ref:"taxonreports",attrs:{taxa:t.taxa,taxamanager:t.taxamanager}}),n("hr"),n("image-splash",{attrs:{taxa:t.taxa,taxamanager:t.taxamanager}}),n("hr"),n("div",{staticClass:"section",attrs:{id:"vernacular-area"}}),n("div",{staticClass:"section",attrs:{id:"wikidata-area"}})],1)},p=[],m=(n("99af"),n("cb29"),n("c740"),n("4160"),n("c975"),n("d3b7"),n("ac1f"),n("25f0"),n("3ca3"),n("5319"),n("841c"),n("159b"),n("ddb0"),n("2b3d"),n("96cf"),n("1da1")),f=n("bee2"),g=(n("2d26"),n("91b7")),h=n.n(g),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.names&&t.years?n("div",{staticClass:"card"},[n("div",{staticClass:"timeline"},[n("div",{staticClass:"labels"},[n("button",{staticClass:"label",on:{click:function(e){return e.preventDefault(),t.fullscreen()}}},[t.isFullscreen?n("svg",{attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"currentcolor",d:"M19.5,3.09L15,7.59V4H13V11H20V9H16.41L20.91,4.5L19.5,3.09M4,13V15H7.59L3.09,19.5L4.5,20.91L9,16.41V20H11V13H4Z"}})]):n("svg",{attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"currentcolor",d:"M10,21V19H6.41L10.91,14.5L9.5,13.09L5,17.59V14H3V21H10M14.5,10.91L19,6.41V10H21V3H14V5H17.59L13.09,9.5L14.5,10.91Z"}})]),t._v(" "+t._s(t.isFullscreen?"Exit fullscreeen":"Fullscreen")+" ")]),t._l(t.names,(function(e){return n("div",{key:e,staticClass:"label"},[t._v(" "+t._s(t.getFormattedName(e))+" ")])}))],2),n("div",{staticClass:"sep"}),n("div",{staticClass:"scroll-x"},t._l(t.years,(function(e){return n("div",{class:"sep"===e?"sep":"year"},["sep"!==e?n("div",{staticClass:"label center"},[t._v(" "+t._s(e.year)+" ")]):t._e(),"sep"!==e?n("div",{staticClass:"treatments"},t._l(e.treatments,(function(e){return n("div",{staticClass:"treatment"},t._l(e.data,(function(e){return n("div",{staticClass:"label"},["def"===e?n("svg",{staticClass:"green",attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"currentcolor",d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}})]):"ass"===e?n("svg",{staticClass:"green",attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"currentcolor",d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"}})]):"aug"===e?n("svg",{staticClass:"blue",attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"currentcolor",d:"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}})]):"dpr"===e?n("svg",{staticClass:"red",attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"currentcolor",d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"}})]):t._e()])})),0)})),0):t._e()])})),0)]),n("div",{staticClass:"label"},[n("svg",{staticClass:"green",attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"currentcolor",d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}})]),t._v(" Defining treatment ")]),n("div",{staticClass:"label"},[n("svg",{staticClass:"blue",attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"currentcolor",d:"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}})]),t._v(" Augmenting treatment "),n("br")]),n("div",{staticClass:"label"},[n("svg",{staticClass:"red",attrs:{viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"currentcolor",d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"}})]),t._v(" Deprecating treatment "),n("br")])]):t._e()},b=[],y=(n("baa5"),n("4d63"),function(t){Object(c["a"])(n,t);var e=Object(o["a"])(n);function n(){var t;return Object(i["a"])(this,n),t=e.apply(this,arguments),t.isFullscreen=!1,t.exampleYears=[{year:1884,treatments:[{data:["ass",!1,!1,!1,!1]},{data:[!1,"def",!1,!1,!1]}]},{year:1888,treatments:[{data:[!1,!1,!1,!1,"ass"]}]},"sep",{year:1969,treatments:[{data:[!1,!1,"ass",!1,!1]}]},{year:1988,treatments:[{data:[!1,!1,!1,"ass",!1]}]},"sep",{year:2010,treatments:[{data:["aug","dpr","dpr","dpr","dpr"],url:"https://example.org/"},{data:["aug","dpr",!1,!1,!1],url:"https://example.org/"}]},{year:2012,treatments:[{data:[!1,!1,"aug",!1,!1]}]}],t}return Object(f["a"])(n,[{key:"getFormattedName",value:function(t){var e=t.substring(t.lastIndexOf("/")+1),n=e.lastIndexOf("_");return e.substring(0,n).replace(new RegExp("_","g")," ")+", "+e.substring(n+1)}},{key:"fullscreen",value:function(){this.isFullscreen?(document.body.classList.remove("fullscreen-on"),this.$el.classList.remove("fullscreen"),this.isFullscreen=!1,document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()):(document.body.classList.add("fullscreen-on"),this.$el.classList.add("fullscreen"),this.isFullscreen=!0,this.$el.requestFullscreen?this.$el.requestFullscreen():this.$el.mozRequestFullScreen?this.$el.mozRequestFullScreen():this.$el.webkitRequestFullscreen?this.$el.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):this.$el.msRequestFullscreen&&this.$el.msRequestFullscreen())}}]),n}(l["c"]));Object(u["a"])([Object(l["b"])()],y.prototype,"names",void 0),Object(u["a"])([Object(l["b"])()],y.prototype,"years",void 0),y=Object(u["a"])([l["a"]],y);var w=y,x=w,T=(n("c3d8"),n("2877")),_=Object(T["a"])(x,v,b,!1,null,"722c9116",null),O=_.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.images.length<=2?"twocol card":3===t.images.length?"threecol card":"card"},t._l(t.images,(function(e){return n("figure",{key:e.url},[n("img",{attrs:{src:e.url,alt:e.description||""}}),n("figcaption",[t._v(" "+t._s(e.description||"")+" ")])])})),0)},k=[],E=(n("4de4"),function(t){Object(c["a"])(n,t);var e=Object(o["a"])(n);function n(){var t;return Object(i["a"])(this,n),t=e.apply(this,arguments),t.images=[],t}return Object(f["a"])(n,[{key:"splash",value:function(){var t=this;this.images=[],this.taxa.forEach((function(e){t.taxamanager.getImages(e.value).then((function(e){t.images=t.images.concat(e),t.images=t.images.filter((function(e,n){return t.images.findIndex((function(t){return t.url===e.url}))===n}))}))}))}}]),n}(l["c"]));Object(u["a"])([Object(l["b"])()],E.prototype,"taxa",void 0),Object(u["a"])([Object(l["b"])()],E.prototype,"taxamanager",void 0),Object(u["a"])([Object(l["d"])("taxa")],E.prototype,"splash",null),E=Object(u["a"])([l["a"]],E);var P=E,I=P,j=(n("6236"),Object(T["a"])(I,C,k,!1,null,"48441758",null)),L=j.exports,F=n("6d5e"),R=n.n(F),A=n("a36f"),N=n.n(A),S=function(){function t(e){Object(i["a"])(this,t),this._element=e,this._taxonNames={},this._sparqlEndpoint=new h.a("https://query.wikidata.org/sparql"),this._query=function(t){return'\n            DESCRIBE ?item WHERE \n            {\n                ?item wdt:P225 "'.concat(t,'"\n            }')}}return Object(f["a"])(t,[{key:"addTaxon",value:function(t){var e=this;function n(t){return R.a.sym("http://www.wikidata.org/prop/direct/"+t)}function a(t){return R.a.sym("http://www.wikidata.org/entity/"+t)}function r(t){return R.a.sym("http://schema.org/"+t)}function s(t){var e='<div>Wikidata Resource: <a href="'+t.value+'">'+t.value+"</a>";return e+="<ul>",t.out(n("P225")).each((function(t){e+="<li>Taxon Name "+t.value+"</li>"})),t.in(r("about")).each((function(t){e+='<li>Is subject of: <a href="'+t.value+'">'+decodeURI(t.value)+"</a></li>"})),t.out(n("P846")).each((function(t){e+='<li>GBIF ID <a href="https://www.gbif.org/species/'+t.value+'">'+t.value+"</a></li>"})),e+="</ul>",e+="</div>",e}if(!this._taxonNames[t])return this._taxonNames[t]=!0,this._sparqlEndpoint.getSparqlRDF(this._query(t)).then((function(e){if(0===e.length)throw Error("Not in wikidata: "+t);var r=N()(a("Q16521"),e),s=r.in(n("P31"));return 0===s.nodes.length&&(r=N()(a("Q23038290"),e),s=r.in(n("P31"))),s})).then((function(t){e._element.innerHTML=e._element.innerHTML+s(t)}))}},{key:"reset",value:function(){this._element.innerHTML="",this._taxonNames={}}}]),t}(),H=function(){function t(e){Object(i["a"])(this,t),this._element=e,this._taxonUrls={},this._sparqlEndpoint=new h.a("https://vernacular.plazi.org/sparql"),this._query=function(t){return"PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nprefix slang: <https://vocab.plazi.org/vernacular/>\n\nSELECT DISTINCT ?value (GROUP_CONCAT(DISTINCT(?af); separator='; ') as ?afs) WHERE {\n    GRAPH ?g {\n        ?no a slang:NameOccurrence .\n        ?no rdf:value ?value .\n        OPTIONAL { ?no slang:areaFine ?af . }\n        ?no slang:taxon <".concat(t,"> .\n    }\n}\nGROUP BY ?value")}}return Object(f["a"])(t,[{key:"addTaxonUrl",value:function(t){var e=this,n=function(t){if(t.length>0){for(var e='<table class="table"><thead><tr><th scope="col">Vernacular Name</th><th scope="col">Area</th></tr></thead><tbody>',n=0;n<t.length;n++)e+="<tr><td>".concat(t[n].value.value,"</td><td>").concat(t[n].afs.value,"</td></tr>");return e+="</tbody></table>",e}return!1};if(!this._taxonUrls[t])return this._taxonUrls[t]=!0,this._sparqlEndpoint.getSparqlResultSet(this._query(t)).then((function(t){e._element.innerHTML=n(t.results.bindings)||""}))}},{key:"addTaxon",value:function(t){return this.addTaxonUrl("http://taxon-concept.plazi.org/id/Plantae/"+t.replace(/\s/g,"_"))}},{key:"reset",value:function(){this._element.innerHTML="",this._taxonUrls={}}}]),t}(),q=(n("a4d3"),n("e01a"),n("d81d"),function(){function t(e){Object(i["a"])(this,t),this._sparqlEndpoint=e}return Object(f["a"])(t,[{key:"getSynonymsWithTreatments",value:function(t){var e='PREFIX dc: <http://purl.org/dc/elements/1.1/>\nPREFIX treat: <http://plazi.org/vocab/treatment#>\nSELECT DISTINCT\n?tc\n?aug ?augd (group_concat(DISTINCT ?augc;separator="; ") as ?augcs)\n?def ?defd (group_concat(DISTINCT ?defc;separator="; ") as ?defcs)\n?dpr ?dprd (group_concat(DISTINCT ?dprc;separator="; ") as ?dprcs)\nWHERE {\n  <'.concat(t,"> ((^treat:deprecates/(treat:augmentsTaxonConcept|treat:definesTaxonConcept))|\n    ((^treat:augmentsTaxonConcept|^treat:definesTaxonConcept)/treat:deprecates))* ?tc .\n  OPTIONAL {\n    ?aug treat:augmentsTaxonConcept ?tc;\n         treat:publishedIn ?augp;\n         dc:creator ?augc.\n    ?augp dc:date ?augd .\n  }\n  OPTIONAL {\n    ?def treat:definesTaxonConcept ?tc;\n         treat:publishedIn ?defp;\n         dc:creator ?defc.\n    ?defp dc:date ?defd .\n  }\n  OPTIONAL {\n    ?dpr treat:deprecates ?tc;\n          treat:publishedIn ?dprp;\n          dc:creator ?dprc.\n    ?dprp dc:date ?dprd .\n  }\n}\nGROUP BY ?tc ?aug ?augd ?def ?defd ?dpr ?dprd");return this._sparqlEndpoint.getSparqlResultSet(e).then((function(t){return t}))}},{key:"getNewTaxa",value:function(t){var e="PREFIX treat: <http://plazi.org/vocab/treatment#>\nPREFIX dwc: <http://rs.tdwg.org/dwc/terms/>\nPREFIX dc: <http://purl.org/dc/elements/1.1/>\nCONSTRUCT {\n  ?tc dwc:rank ?rank .\n  ?tc dwc:phylum ?phylum .\n  ?tc dwc:kingdom ?kingdom .\n  ?tc dwc:class ?class .\n  ?tc dwc:family ?family .\n  ?tc dwc:order ?oder .\n  ?tc dwc:genus ?genus .\n  ?tc dwc:species ?species .\n  ?tc a <http://filteredpush.org/ontologies/oa/dwcFP#TaxonConcept> .\n  ?treatment treat:preferedName ?tc.\n  ?treatment dc:creator ?treatmentCreator .\n  ?treatment dc:date ?date . \n  ?augmentingTreatment treat:augmentsTaxonConcept ?tc .\n  ?augmentingTreatment dc:creator ?augmentingTreatmentCreator .\n  ?augmentingTreatment dc:date ?augmentingDate . \n  ?definingTreatment treat:definesTaxonConcept ?tc .\n  ?definingTreatment dc:creator ?definingTreatmentCreator .\n  ?definingTreatment dc:date ?definingDate . \n} WHERE { \n  ?treatment (treat:augmentsTaxonConcept|treat:definesTaxonConcept) ?tc .\n  ?treatment treat:deprecates <"+t+">.\n  ?tc dwc:rank ?rank .\n  ?tc dwc:phylum ?phylum .\n  ?tc dwc:kingdom ?kingdom .\n  ?tc dwc:class ?class .\n  ?tc dwc:family ?family .\n  ?tc dwc:order ?oder .\n  ?tc dwc:genus ?genus .\n  ?tc dwc:species ?species .\n  ?treatment ?treatmentTaxonRelation ?tc .\n  ?treatment dc:creator ?treatmentCreator .\n  OPTIONAL { ?treatment treat:publishedIn ?publ .\n    ?publ dc:date ?date . } \n  OPTIONAL { ?augmentingTreatment treat:augmentsTaxonConcept ?tc .\n    ?augmentingTreatment dc:creator ?augmentingTreatmentCreator .\n    OPTIONAL { ?augmentingTreatment treat:publishedIn ?augmentingPubl .\n      ?augmentingPubl dc:date ?augmentingDate . }} \n  OPTIONAL { ?definingTreatment treat:definesTaxonConcept ?tc .\n    ?definingTreatment dc:creator ?definingTreatmentCreator .\n    OPTIONAL { ?definingTreatment treat:publishedIn ?definingPubl .\n      ?definingPubl dc:date ?definingDate . }} \n}";return this._sparqlEndpoint.getSparqlRDF(e).then((function(t){var e=N()(R.a.sym("http://filteredpush.org/ontologies/oa/dwcFP#TaxonConcept"),t);return e.in(R.a.sym("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))}))}},{key:"getOldTaxa",value:function(t){var e="PREFIX treat: <http://plazi.org/vocab/treatment#>\n    PREFIX dwc: <http://rs.tdwg.org/dwc/terms/>\n    PREFIX dc: <http://purl.org/dc/elements/1.1/>\n    CONSTRUCT {\n      ?tc dwc:rank ?rank .\n      ?tc dwc:phylum ?phylum .\n      ?tc dwc:kingdom ?kingdom .\n      ?tc dwc:class ?class .\n      ?tc dwc:family ?family .\n      ?tc dwc:order ?oder .\n      ?tc dwc:genus ?genus .\n      ?tc dwc:species ?species .\n      ?tc a <http://filteredpush.org/ontologies/oa/dwcFP#TaxonConcept> .\n      ?treatment treat:preferedName ?tc.\n      ?treatment dc:creator ?treatmentCreator .\n      ?treatment dc:date ?date . \n      ?augmentingTreatment treat:augmentsTaxonConcept ?tc .\n      ?augmentingTreatment dc:creator ?augmentingTreatmentCreator .\n      ?augmentingTreatment dc:date ?augmentingDate . \n      ?definingTreatment treat:definesTaxonConcept ?tc .\n      ?definingTreatment dc:creator ?definingTreatmentCreator .\n      ?definingTreatment dc:date ?definingDate . \n    } WHERE {\n      ?newtreatment (treat:augmentsTaxonConcept|treat:definesTaxonConcept) <".concat(t,"> .\n      ?newtreatment treat:deprecates ?tc .\n      ?tc dwc:rank ?rank .\n      ?tc dwc:phylum ?phylum .\n      ?tc dwc:kingdom ?kingdom .\n      ?tc dwc:class ?class .\n      ?tc dwc:family ?family .\n      ?tc dwc:order ?oder .\n      ?tc dwc:genus ?genus .\n      ?tc dwc:species ?species .\n      OPTIONAL { ?treatment (treat:augmentsTaxonConcept|treat:definesTaxonConcept) ?tc .\n        ?treatment ?treatmentTaxonRelation ?tc .\n        ?treatment dc:creator ?treatmentCreator . \n        OPTIONAL { ?treatment treat:publishedIn ?publ .\n          ?publ dc:date ?date . } \n        OPTIONAL { ?augmentingTreatment treat:augmentsTaxonConcept ?tc .\n          ?augmentingTreatment dc:creator ?augmentingTreatmentCreator .\n          OPTIONAL { ?augmentingTreatment treat:publishedIn ?augmentingPubl .\n            ?augmentingPubl dc:date ?augmentingDate . }} \n        OPTIONAL { ?definingTreatment treat:definesTaxonConcept ?tc .\n          ?definingTreatment dc:creator ?definingTreatmentCreator .\n          OPTIONAL { ?definingTreatment treat:publishedIn ?definingPubl .\n            ?definingPubl dc:date ?definingDate . }}}\n    }");return this._sparqlEndpoint.getSparqlRDF(e).then((function(t){var e=N()(R.a.sym("http://filteredpush.org/ontologies/oa/dwcFP#TaxonConcept"),t);return e.in(R.a.sym("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))}))}},{key:"getImages",value:function(t){var e="PREFIX treat: <http://plazi.org/vocab/treatment#>\nPREFIX dwc: <http://rs.tdwg.org/dwc/terms/>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX fabio: <http://purl.org/spar/fabio/>\nPREFIX dc: <http://purl.org/dc/elements/1.1/>\nSELECT DISTINCT ?url ?description WHERE {   \n  ?treatment (treat:augmentsTaxonConcept|treat:definesTaxonConcept) <"+t+"> .\n  ?treatment <http://purl.org/spar/cito/cites> ?cites.\n  ?cites rdf:type fabio:Figure. \n  ?cites fabio:hasRepresentation ?url.\n  ?cites dc:description ?description.  \n} ";return this._sparqlEndpoint.getSparqlResultSet(e).then((function(t){return t.results.bindings.map((function(t){var e={};return e.url=t.url.value,e.description=t.description.value,e}))}))}},{key:"getTaxonConcepts",value:function(t,e){var n='PREFIX dwc: <http://rs.tdwg.org/dwc/terms/>\nPREFIX treat: <http://plazi.org/vocab/treatment#>\nPREFIX dc: <http://purl.org/dc/elements/1.1/>\nCONSTRUCT {\n  ?tc dwc:rank ?rank .\n  ?tc dwc:phylum ?phylum .\n  ?tc dwc:kingdom ?kingdom .\n  ?tc dwc:class ?class .\n  ?tc dwc:family ?family .\n  ?tc dwc:order ?oder .\n  ?tc dwc:genus "'+t+'" .\n  ?tc dwc:species "'+e+'" .\n  ?tc a <http://filteredpush.org/ontologies/oa/dwcFP#TaxonConcept> .\n  ?tc treat:hasTaxonName ?tn .\n  ?augmentingTreatment treat:augmentsTaxonConcept ?tc .\n  ?augmentingTreatment dc:creator ?augmentingTreatmentCreator .\n  ?augmentingTreatment dc:date ?augmentingDate . \n  ?definingTreatment treat:definesTaxonConcept ?tc .\n  ?definingTreatment dc:creator ?definingTreatmentCreator .\n  ?definingTreatment dc:date ?definingDate . \n} WHERE { \n  ?tc dwc:rank ?rank .\n  ?tc dwc:phylum ?phylum .\n  ?tc dwc:kingdom ?kingdom .\n  ?tc dwc:class ?class .\n  ?tc dwc:family ?family .\n  ?tc dwc:order ?oder .\n  ?tc dwc:genus "'+t+'" .\n  ?tc dwc:species "'+e+'" .\n  ?tc a <http://filteredpush.org/ontologies/oa/dwcFP#TaxonConcept> . \n  OPTIONAL { ?tc treat:hasTaxonName ?tn . }\n  OPTIONAL { ?augmentingTreatment treat:augmentsTaxonConcept ?tc .\n    ?augmentingTreatment dc:creator ?augmentingTreatmentCreator .\n    OPTIONAL { ?augmentingTreatment treat:publishedIn ?augmentingPubl .\n      ?augmentingPubl dc:date ?augmentingDate . }} \n  OPTIONAL { ?definingTreatment treat:definesTaxonConcept ?tc .\n    ?definingTreatment dc:creator ?definingTreatmentCreator .\n    OPTIONAL { ?definingTreatment treat:publishedIn ?definingPubl .\n      ?definingPubl dc:date ?definingDate . }} \n}';return this._sparqlEndpoint.getSparqlRDF(n).then((function(t){var e=N()(R.a.sym("http://filteredpush.org/ontologies/oa/dwcFP#TaxonConcept"),t);return e.in(R.a.sym("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))}))}}]),t}()),D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.taxa,(function(e){return n("single-taxon-report",{key:e.value,attrs:{taxon:e,taxamanager:t.taxamanager}})})),1)},M=[],V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:"card"+(t.deprecates.length>0?" deprecates ":" ")+(t.deprecations.length>0?"deprecated":"")},[n("hgroup",[n("h2",{staticClass:"card_header"},[t._v(t._s(t.title))]),t._l(t.preferedNameBy,(function(e){return n("h3",{key:e.url,staticClass:"card_header"},[t._v(" Preferred by "),n("a",{attrs:{href:e.url}},[t._v(" "+t._s(e.creators.join("; "))+" "+t._s(e.dates.join("/"))+" ")])])}))],2),n("div",{staticClass:"scroll-x"},[n("table",{staticClass:"nobold"},[t._m(0),n("tr",t._l(t.ranks,(function(e){return n("td",{key:e},[t._v(" "+t._s(e)+" ")])})),0)])]),n("p",[t._v(" "+t._s(t.definingTreatments?"Defining Treatments: ":"Defining treatment not yet on Plazi")+" "),t.definingTreatments?n("ul",t._l(t.definingTreatments,(function(e){return n("li",{key:e.url},[n("a",{attrs:{href:e.url}},[t._v(" "+t._s(e.creators.join("; "))+" "+t._s(e.dates.join("/"))+" ")])])})),0):t._e()]),t.augmentingTreatments?n("p",[t._v(" Augmenting Treatments: "),n("ul",t._l(t.augmentingTreatments,(function(e){return n("li",{key:e.url},[n("a",{attrs:{href:e.url}},[t._v(" "+t._s(e.creators.join("; "))+" "+t._s(e.dates.join("/"))+" ")])])})),0)]):t._e(),t.deprecations.length>0?n("p",[t._v(" Deprecated By: "),n("ul",t._l(t.deprecations,(function(e){return n("li",{key:e.value},[t._v(" "+t._s(t.getFormattedName(e.value))+" ")])})),0)]):t._e(),t.deprecates.length>0?n("p",[t._v(" Deprecates: "),n("ul",t._l(t.deprecates,(function(e){return n("li",{key:e.value},[t._v(" "+t._s(t.getFormattedName(e.value))+" ")])})),0)]):t._e()])},z=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",[t._v("Kingdom")]),n("th",[t._v("Phylum")]),n("th",[t._v("Class")]),n("th",[t._v("Order")]),n("th",[t._v("Family")]),n("th",[t._v("Genus")]),n("th",[t._v("Species")])])}];n("a15b"),n("fb6a");function B(t){return R.a.sym("http://rs.tdwg.org/dwc/terms/"+t)}function $(t){return R.a.sym("http://plazi.org/vocab/treatment#"+t)}function X(t){return R.a.sym("http://purl.org/dc/elements/1.1/"+t)}var U=function(t){Object(c["a"])(n,t);var e=Object(o["a"])(n);function n(){var t;return Object(i["a"])(this,n),t=e.apply(this,arguments),t.title="",t.ranks=[],t.deprecations=[],t.deprecates=[],t.preferedNameBy=null,t.definingTreatments=null,t.augmentingTreatments=null,t}return Object(f["a"])(n,[{key:"getFormattedName",value:function(t){var e=t.substring(t.lastIndexOf("/")+1),n=e.lastIndexOf("_");return e.substring(0,n).replace(new RegExp("_","g")," ")+", "+e.substring(n+1)}},{key:"renderTaxon",value:function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(){var e,n,a,r,s,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=function(t){return t.each((function(t){return t})).then((function(t){return Promise.all(t.map(function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(e){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.value,t.next=3,e.out(X("creator")).each((function(t){return t.value}));case 3:return a=t.sent,t.next=6,e.out(X("date")).each((function(t){return" "+t.value}));case 6:return r=t.sent,t.abrupt("return",{url:n,dates:r,creators:a});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}))},t.next=3,Promise.all(["kingdom","phylum","class","order","family","genus","species"].map(function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",i.taxon.out(B(e)).each((function(t){return t.value})).then((function(t){return t.join(", ")})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 3:if(e=t.sent,this.ranks=e,a=this.taxon.in($("preferedName")),!(a.nodes.length>0)){t.next=12;break}return t.next=9,n(a);case 9:t.t0=t.sent,t.next=13;break;case 12:t.t0=null;case 13:if(this.preferedNameBy=t.t0,r=this.taxon.in($("definesTaxonConcept")),!(r.nodes.length>0)){t.next=21;break}return t.next=18,n(r);case 18:t.t1=t.sent,t.next=22;break;case 21:t.t1=null;case 22:if(this.definingTreatments=t.t1,s=this.taxon.in($("augmentsTaxonConcept")),!(s.nodes.length>0)){t.next=30;break}return t.next=27,n(s);case 27:t.t2=t.sent,t.next=31;break;case 30:t.t2=null;case 31:this.augmentingTreatments=t.t2,this.title=this.getFormattedName(this.taxon.value),this.$emit("taxonRendered",this.taxon);case 34:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"mounted",value:function(){this.renderTaxon()}}]),n}(l["c"]);Object(u["a"])([Object(l["b"])()],U.prototype,"taxon",void 0),Object(u["a"])([Object(l["b"])()],U.prototype,"taxamanager",void 0),U=Object(u["a"])([l["a"]],U);var W=U,G=W,Z=(n("fd7f"),Object(T["a"])(G,V,z,!1,null,"b452acf6",null)),Y=Z.exports,K=function(t){Object(c["a"])(n,t);var e=Object(o["a"])(n);function n(){var t;return Object(i["a"])(this,n),t=e.apply(this,arguments),t.message="",t}return n}(l["c"]);Object(u["a"])([Object(l["b"])()],K.prototype,"taxa",void 0),Object(u["a"])([Object(l["b"])()],K.prototype,"taxamanager",void 0),K=Object(u["a"])([Object(l["a"])({components:{SingleTaxonReport:Y}})],K);var Q=K,J=Q,tt=Object(T["a"])(J,D,M,!1,null,"c4fa5996",null),et=tt.exports,nt=n("96b7"),at=n("d70b"),rt=function(t){Object(c["a"])(n,t);var e=Object(o["a"])(n);function n(){var t;return Object(i["a"])(this,n),t=e.apply(this,arguments),t.current={genus:null,species:null},t.message="",t.taxa=[],t.names=[],t.years=[],t}return Object(f["a"])(n,[{key:"onClick",value:function(){var t=document.getElementById("combinedfield");t.value||(t.value="Sadayoshia acroporae"),this.taxomplete.lookup()}},{key:"relatedTaxonEncountered",value:function(t,e){}},{key:"beforeMount",value:function(){var t=new URLSearchParams(window.location.search);this.sparqlEndpoint=new h.a(t.get("endpoint")||at["a"].endpoint),this.taxamanager=new q(this.sparqlEndpoint)}},{key:"getData",value:function(){var t=this;this.taxamanager.getTaxonConcepts(this.current.genus,this.current.species).then(function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==n.nodes.length){e.next=4;break}t.message="No treatment for "+t.current.genus+" "+t.current.species+" found on Plazi.",e.next=12;break;case 4:return window.location.hash=t.current.genus+"+"+t.current.species,e.t0=t.taxa,e.next=8,n.each((function(t){return t})).then((function(t){return Promise.all(t.sort((function(t,e){var n=t.value.substring(t.value.length-4),a=e.value.substring(e.value.length-4);return n-a})))}));case 8:e.t1=e.sent,t.taxa=e.t0.concat.call(e.t0,e.t1),t.taxa.forEach((function(e){t.taxamanager.getSynonymsWithTreatments(e.value).then(t.processSynonymsWithTreatments)})),t.message="";case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"processSynonymsWithTreatments",value:function(t){var e=this;t.results.bindings.forEach((function(t){var n=e.names.indexOf(t.tc.value);if(-1===n&&(n=e.names.push(t.tc.value)-1),t.def){var a=e.years.findIndex((function(e){return"sep"!==e&&e.year.toString()===t.defd.value}));if(-1===a){var r=[];r[n]="def",e.years.push({year:parseInt(t.defd.value,10),treatments:[{creators:t.defcs.value,url:t.def.value,data:r}]})}else{var s=e.years[a].treatments.findIndex((function(e){return e.url===t.def.value}));if(-1===s){var i=[];i[n]="def",e.years[a].treatments.push({creators:t.defcs.value,url:t.def.value,data:i})}else e.years[a].treatments[s].data[n]="def"}}if(t.aug){var c=e.years.findIndex((function(e){return"sep"!==e&&e.year.toString()===t.augd.value}));if(-1===c){var o=[];o[n]="aug",e.years.push({year:parseInt(t.augd.value,10),treatments:[{creators:t.augcs.value,url:t.aug.value,data:o}]})}else{var u=e.years[c].treatments.findIndex((function(e){return e.url===t.aug.value}));if(-1===u){var l=[];l[n]="aug",e.years[c].treatments.push({creators:t.augcs.value,url:t.aug.value,data:l})}else e.years[c].treatments[u].data[n]="aug"}}if(t.dpr){var d=e.years.findIndex((function(e){return"sep"!==e&&e.year.toString()===t.dprd.value}));if(-1===d){var p=[];p[n]="dpr",e.years.push({year:parseInt(t.dprd.value,10),treatments:[{creators:t.dprcs.value,url:t.dpr.value,data:p}]})}else{var m=e.years[d].treatments.findIndex((function(e){return e.url===t.dpr.value}));if(-1===m){var f=[];f[n]="dpr",e.years[d].treatments.push({creators:t.dprcs.value,url:t.dpr.value,data:f})}else e.years[d].treatments[m].data[n]="dpr"}}})),this.years.sort((function(t,e){return t.year<e.year?-1:t.year>e.year?1:0})),this.years.forEach((function(t){"sep"!==t&&t.treatments.forEach((function(t){t.data=t.data.concat(Array(e.names.length-t.data.length).fill(!1))}))}))}},{key:"mounted",value:function(){var t=this;this.wikidataViewer=new S(document.getElementById("wikidata-area")),this.vernacularViewer=new H(document.getElementById("vernacular-area"));var e=document.getElementById("combinedfield");this.taxomplete=new nt["a"](e,this.sparqlEndpoint);var n=function(e){t.wikidataViewer.reset(),t.vernacularViewer.reset(),t.current.genus=e.substring(0,e.indexOf(" ")),t.current.species=e.substr(e.indexOf(" ")+1),t.wikidataViewer.addTaxon(t.current.genus+" "+t.current.species),t.vernacularViewer.addTaxon(t.current.genus+" "+t.current.species),t.getData()};this.taxomplete.action=n,!e.value&&window.location.hash&&(e.value=window.location.hash.substring(1).replace("+"," "),this.taxomplete.lookup())}}]),n}(l["c"]);rt=Object(u["a"])([Object(l["a"])({components:{TaxonReports:et,Timeline:O,ImageSplash:L}})],rt);var st=rt,it=st,ct=Object(T["a"])(it,d,p,!1,null,"d18f27a0",null),ot=ct.exports,ut=function(t){Object(c["a"])(n,t);var e=Object(o["a"])(n);function n(){return Object(i["a"])(this,n),e.apply(this,arguments)}return n}(l["c"]);ut=Object(u["a"])([Object(l["a"])({components:{Classic:ot}})],ut);var lt,dt,pt=ut,mt=pt,ft=(n("5c0b"),Object(T["a"])(mt,r,s,!1,null,null,null)),gt=ft.exports,ht=n("8c4f"),vt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},bt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("About")]),n("div",{staticClass:"section"},[n("p",[t._v(" Synospecies is a tool developed by FactsMission AG to leverage the RDF data provided by Plazi. The RDF data of all treatments is stored in an "),n("a",{attrs:{href:"https://allegrograph.com/"}},[t._v("AllegroGraph")]),t._v(" triple store allowing "),n("a",{attrs:{href:"https://www.w3.org/TR/sparql11-overview/"}},[t._v("SPARQL")]),t._v(" queries over the data. Synospecies allows manually writing and submitting such queries in the advanced mode and send such queries in the background when using the easier interface. ")]),n("p",[t._v(" Synospecies is an Open Source application running purely in the browser, the source code is available on "),n("a",{attrs:{href:"https://github.com/factsmission/synospecies/"}},[t._v("GitHub")]),t._v(". ")])]),n("div",{staticClass:"section"},[n("h2",[n("a",{attrs:{href:"http://plazi.org/"}},[t._v("Plazi")])]),n("p",[t._v("Plazi is an association supporting and promoting the development of persistent and openly accessible digital taxonomic literature. To this end Plazi will:")]),n("ul",[n("li",[t._v("Maintain a digital taxonomic literature repository to enable archiving of taxonomic treatments.")]),n("li",[t._v("Enhance submitted taxonomic treatments by creating TaxonX and Taxpub XML versions.")]),n("li",[t._v("Participate in the development of new models for publishing taxonomic treatments in order to maximize interoperability with other relevant cyberinfrastructure components (e.g., name servers, biodiversity resources, etc...)")]),n("li",[t._v("Advocate and educate about the vital importance of maintaining free and open access to scientific discourse and data")])])]),n("div",{staticClass:"section"},[n("h2",[n("a",{attrs:{href:"https://factsmission.com/"}},[t._v("FactsMission")])]),n("p",[t._v("FactsMission offers consulting and development services to create, process, store, publish, and consume linked data.")]),n("p",[t._v("FactsMission helps you provide data in such a way that it can be easily used as the foundation of different applications as well as linked to as an authoritative source.")]),n("p",[t._v("FactsMission helps you grow communities around your data to maximize its impact and increase your organizationâ€™s influence.")])])])}],yt=(lt=Object(l["a"])({}),lt(dt=function(t){Object(c["a"])(n,t);var e=Object(o["a"])(n);function n(){return Object(i["a"])(this,n),e.apply(this,arguments)}return n}(l["c"]))||dt),wt=yt,xt=Object(T["a"])(wt,vt,bt,!1,null,null,null),Tt=xt.exports;a["a"].use(ht["a"]);var _t=[{path:"/",name:"classic",component:ot},{path:"/about",name:"about",component:Tt},{path:"/advanced",name:"advanced",component:function(){return n.e("about").then(n.bind(null,"fbe6"))}}],Ot=new ht["a"]({mode:"history",routes:_t}),Ct=Ot;a["a"].config.productionTip=!1,new a["a"]({router:Ct,render:function(t){return t(gt)}}).$mount("#app")},cf05:function(t,e,n){t.exports=n.p+"img/logo.ab5edf36.png"},d0fb:function(t,e,n){},d70b:function(t,e,n){"use strict";n.d(e,"b",(function(){return a}));var a="https://trifid-lindas.test.cluster.ldbar.ch/query";e["a"]={endpoint:a}},fd7f:function(t,e,n){"use strict";var a=n("b7e9"),r=n.n(a);r.a}});
//# sourceMappingURL=app.1c7ac811.js.map